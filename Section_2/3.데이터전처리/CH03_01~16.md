# Section 3

# 1. 데이터 프레임 생성

```python
import pandas as pd
```

pandas를 불러오는 것이 필요하다.

## Dict를 통한 데이터 프레임 생성

```python
import pandas as pd

df = pd.DataFrame({'a' : [1, 2, 3], 'b' : [4, 5, 6], 'c' : [7, 8, 9]})
# 표형식의 데이터 프레임 df 선언
print(type(df))
# <class 'pandas.core.frame.DataFrame'>
print(df)
'''
   a  b  c
0  1  4  7
1  2  5  8
2  3  6  9
'''
# 첫번째 세로축은 index이다.
```

## List를 이용한 데이터 프레임 생성

```python
import pandas as pd

a = [[1, 4, 7], [2, 5, 8], [3, 6, 9]]
df3 = pd.DataFrame(a)
print(df3)

'''
   0  1  2
0  1  4  7
1  2  5  8
2  3  6  9
'''
```

- Dict와 List의 차이점으로 주의해야할 점
    
    Dict는 세로줄(열)(Column)배열이고, List는 가로줄(행)(Row)배열이라고 생각!
    

### Columns(세로줄, 열)명 변경

```python
import pandas as pd

a = [[1, 4, 7], [2, 5, 8], [3, 6, 9]]
df3 = pd.DataFrame(a)
df3.columns = ['a', 'b', 'c']
print(df3)
'''
   a  b  c
0  1  4  7
1  2  5  8
2  3  6  9
'''
#칼럼명이 변경된 것을 알 수 있다.
```

### 예제1)

아래 테이블과 같은 데이터 프레임을 만드시오.

```python
import pandas as pd

a = {'company' : ['abc', '회사', 123], '직원수' : [400, 10, 6]}
df = pd.DataFrame(a)
print(df)

'''
  company 직원수
0     abc  400
1     회사   10
2     123    6
'''

import pandas as pd

a = [['company', '직원수'], ['abc', 400], ['회사', 10], ['123', 6]]
df = pd.DataFrame(a)
print(df)
'''
        0    1
0  company  직원수
1      abc  400
2      회사   10
3      123    6
'''
```

### 예제2)

```python
import pandas as pd
import numpy as np

a = {'company' : ['abc', '회사', 123], '직원수' : [400, 10, 6], '위치' : ['Seoul', np.NaN , 'Busan']}
# NONE값을 사용하기 위해 numpy를 이용 (np)
df1 = pd.DataFrame(a)
print(df1)

'''
  company  직원수     위치
0     abc  400  Seoul
1      회사   10    NaN
2     123    6  Busan
'''
```

# 2. 칼럼명 추출 변경

## 추출

```python
import pandas as pd
df = pd.DataFrame({'a' : [1, 2, 3], 'b' : [4, 5, 6], 'c' : [7, 8, 9]})

print(df.columns)
'''
Index(['a', 'b', 'c'], dtype='object')
'''
print(df.columns[1])
'''
'b'
'''
```

## 치환을 통한 칼럼명 변경

### 예제1)

칼럼명인 a, b, c를 d, e, f로 바꾸어라.

```python

import pandas as pd
df = pd.DataFrame({'a' : [1, 2, 3], 'b' : [4, 5, 6], 'c' : [7, 8, 9]})
df.columns = ['d', 'e', 'f']
print(df)
'''
   d  e  f
0  1  4  7
1  2  5  8
2  3  6  9
'''
```

### 예제2)

칼럼명인 d, e, f를 ‘디’로 f를 ‘에프’로 바꾸어라.

```python
import pandas as pd
df = pd.DataFrame({'a' : [1, 2, 3], 'b' : [4, 5, 6], 'c' : [7, 8, 9]})
df.columns = ['d', 'e', 'f']
df.columns = ['디', 'e', '에프']
print(df)
'''
   디  e  에프
0  1  4   7
1  2  5   8
2  3  6   9
'''
```

## rename을 통한 칼럼명 변경

- df.rename()
    
    일부분을 바꾸기 위해서는 전체의 요소를 바꾸는 것 보다 효율적이다.
    
- inplace = True를 써야 저장이 됨.

```python
import pandas as pd
df = pd.DataFrame({'a' : [1, 2, 3], 'b' : [4, 5, 6], 'c' : [7, 8, 9]})
df.columns = ['d', 'e', 'f']

print(df.rename(columns = {'d' : '디', 'f' : '에프'}))
'''
   디  e  에프
0  1  4   7
1  2  5   8
2  3  6   9
'''
print(df)
'''
   d  e  f
0  1  4  7
1  2  5  8
2  3  6  9
'''
df.rename(columns = {'d' : '디', 'f' : '에프'}, inplace = True)
print(df)
'''
   디  e  에프
0  1  4   7
1  2  5   8
2  3  6 
'''

```

# 3. copy를 이용한 데이터 복사

보험용

```python
import pandas as pd
df = pd.DataFrame({'a' : [1, 2, 3], 'b' : [4, 5, 6], 'c' : [7, 8, 9]})
df2 = df
df.columns = ['d', 'e', 'f']
df.columns = ['디', 'e', '에프']
print(df)
print(df2)
'''
   디  e  에프
0  1  4   7
1  2  5   8
2  3  6   9
   디  e  에프
0  1  4   7
1  2  5   8
2  3  6   9
'''
```

값을 df2로 저장(복제)을 했는데, df를 변환하면 결국 결과는 df와 df2가 같게 나온다.

하나의 df을 두개의 변수명이 공통적으로 이용한다.

→ deep copy를 통한 해결

### deep copy

`df2 = copy.deepcopy(df)`

```python
import pandas as pd
import copy
df = pd.DataFrame({'a' : [1, 2, 3], 'b' : [4, 5, 6], 'c' : [7, 8, 9]})
df2 = copy.deepcopy(df)
df.columns = ['d', 'e', 'f']
df.columns = ['디', 'e', '에프']
print(df)
print(df2)

'''
   디  e  에프
0  1  4   7
1  2  5   8
2  3  6   9
   a  b  c
0  1  4  7
1  2  5  8
2  3  6  9
'''
```

# 4. 시리즈

```python
import pandas as pd

df = pd.DataFrame({'a' : [1, 2, 3], 'b' : [4, 5, 6], 'c' : [7, 8, 9]})
print(df['a'])
print(type(df['a']))

'''
0    1
1    2
2    3
Name: a, dtype: int64
<class 'pandas.core.series.Series'>
'''

```

## 시리즈 생성 방법

### 열의 타입 출력

```python
import pandas as pd

df = pd.DataFrame({'a' : [1, 2, 3], 'b' : [4, 5, 6], 'c' : [7, 8, 9]})
print(type(df['a']))

'''
0   1
1   2
2   3
pandas.core.series.Series
'''
```

인덱싱 번호와 함께 Columns 값과 형식이 출력

but → Series를 이용해 바로 시리즈를 만들 수 있다.

### 시리즈 생성 방법

```python
import pandas as pd

a = pd.Series([1, 2, 3, 1, 2, 3])
print(a)

'''
0    1
1    2
2    3
3    1
4    2
5    3
dtype: int64
'''
```

### 인덱스 변경

```python
import pandas as pd

a = pd.Series([1, 2, 3, 1, 2, 3], index = ['a', 'b', 'c', 'd', 'e', 'f'])
print(a)

'''
a    1
b    2
c    3
d    1
e    2
f    3
dtype: int64
'''

print(['e'])
'''
2
'''
```

### 유일한 값 찾기(set과 유사)

```python
import pandas as pd

df = pd.DataFrame({'a' : [1, 2, 3, 1, 2, 3], 'b' : [4, 5, 6, 6, 7, 8], 'c' : [7, 8, 9, 10, 11, 12]})
a = df['a']
print(a)

'''
0    1
1    2
2    3
3    1
4    2
5    3
Name: a, dtype: int64
'''
print(a.unique())
'''
[1 2 3]
'''
print(a.unique()[2])
'''
3 #인덱싱 가능
'''
```

# 5. loc과 iloc을 이용한 원하는 위치의 데이터 추출